#!name = ï£¿ iRingo: ğŸ—ºï¸ ï£¿Maps
#!desc = è‡ªå®šä¹‰ ï£¿Maps app\næ·»åŠ å›½é™…ç‰ˆåŠŸèƒ½\nè‡ªå®šä¹‰æœåŠ¡ç‰ˆæœ¬
#!openUrl = http://boxjs.com/#/app/iRingo.Maps
#!author = VirgilClyne[https://github.com/VirgilClyne]
#!homepage = https://NSRingo.github.io/guide/GeoServices/maps
#!icon = https://developer.apple.com/assets/elements/icons/maps/maps-128x128.png
#!category = ï£¿ iRingo
#!date = 2024-11-19 05:50:49
#!version = 4.1.2
#!arguments = GeoManifest.Dynamic.Config.CountryCode:"CN",UrlInfoSet.Dispatcher:"AutoNavi",UrlInfoSet.Directions:"AutoNavi",UrlInfoSet.RAP:"Apple",UrlInfoSet.LocationShift:"AUTO",TileSet.Satellite:"HYBRID",TileSet.Flyover:"XX",TileSet.Munin:"XX"
#!arguments-desc = GeoManifest.Dynamic.Config.CountryCode: [åŠ¨æ€é…ç½®] èµ„æºæ¸…å•çš„å›½å®¶æˆ–åœ°åŒºä»£ç \n    â”œ AUTO: ğŸ‡ºğŸ‡³è‡ªåŠ¨ï¼ˆè·Ÿéšç”¨æˆ·å½“å‰æ‰€åœ¨åœ°åŒºï¼‰\n    â”œ CN: ğŸ‡¨ğŸ‡³ä¸­å›½å¤§é™†\n    â”œ HK: ğŸ‡­ğŸ‡°ä¸­å›½é¦™æ¸¯\n    â”œ TW: ğŸ‡¹ğŸ‡¼ä¸­å›½å°æ¹¾\n    â”œ SG: ğŸ‡¸ğŸ‡¬æ–°åŠ å¡\n    â”œ US: ğŸ‡ºğŸ‡¸ç¾å›½\n    â”œ JP: ğŸ‡¯ğŸ‡µæ—¥æœ¬\n    â”œ AU: ğŸ‡¦ğŸ‡ºæ¾³å¤§åˆ©äºš\n    â”œ GB: ğŸ‡¬ğŸ‡§è‹±å›½\n    â”œ KR: ğŸ‡°ğŸ‡·éŸ©å›½\n    â”œ CA: ğŸ‡¨ğŸ‡¦åŠ æ‹¿å¤§\n    â”” IE: ğŸ‡®ğŸ‡ªçˆ±å°”å…°\næ­¤é€‰é¡¹å½±å“â€œåœ°å›¾â€æ•´ä½“é…ç½®å†…å®¹ï¼ŒåŒ…æ‹¬ä»¥ä¸‹çš„åœ°å›¾åŠŸèƒ½ä¸æœåŠ¡ã€‚\n\nUrlInfoSet.Dispatcher: [URLä¿¡æ¯é›†] è°ƒåº¦å™¨\n    â”œ AUTO: ğŸ‡ºğŸ‡³è‡ªåŠ¨ï¼ˆéš[åŠ¨æ€é…ç½®]ç‰ˆæœ¬è‡ªåŠ¨é€‰æ‹©ï¼‰\n    â”œ AutoNavi: ğŸ§­é«˜å¾·ï¼ˆğŸ‡¨ğŸ‡³:äº’åŠ¨ç™¾ç§‘/å¤§ä¼—ç‚¹è¯„/æºç¨‹ | ğŸ‡ºğŸ‡³:ç»´åŸºç™¾ç§‘/Yelp/Bookingï¼‰\n    â”” Apple: ï£¿Appleï¼ˆç»´åŸºç™¾ç§‘/Yelp/Bookingï¼‰\nåœ°ç‚¹æ•°æ®æ¥å£ï¼Œæ­¤é€‰é¡¹å½±å“å…¬å…±æŒ‡å—ï¼Œå…´è¶£ç‚¹(POI)ä¸ä½ç½®ä¿¡æ¯ç­‰åŠŸèƒ½ã€‚\n\nUrlInfoSet.Directions: [URLä¿¡æ¯é›†] å¯¼èˆªä¸ETA\n    â”œ AUTO: ğŸ‡ºğŸ‡³è‡ªåŠ¨ï¼ˆéš[åŠ¨æ€é…ç½®]ç‰ˆæœ¬è‡ªåŠ¨é€‰æ‹©ï¼‰\n    â”œ AutoNavi: ğŸ§­é«˜å¾·ï¼ˆğŸ‡¨ğŸ‡³:é«˜å¾·åœ°å›¾ | ğŸ‡ºğŸ‡³:TomTomï¼‰\n    â”” Apple: ï£¿Appleï¼ˆğŸ‡¨ğŸ‡³:ğŸˆšï¸ | ğŸ‡ºğŸ‡³:TomTomï¼‰\nå¯¼èˆªä¸ETAæœåŠ¡æ¥å£ï¼Œæ­¤é€‰é¡¹å½±å“å¯¼èˆªä¸ETA(åˆ°è¾¾æ—¶é—´)ç­‰åŠŸèƒ½ã€‚\n\nUrlInfoSet.RAP: [URLä¿¡æ¯é›†] è¯„åˆ†å’Œç…§ç‰‡\n    â”œ AUTO: ğŸ‡ºğŸ‡³è‡ªåŠ¨ï¼ˆéš[åŠ¨æ€é…ç½®]ç‰ˆæœ¬è‡ªåŠ¨é€‰æ‹©ï¼‰\n    â”œ AutoNavi: ğŸ§­é«˜å¾·ï¼ˆğŸ‡¨ğŸ‡³:ğŸˆ¶ï¸ä½†æœªå¼€æ”¾ | ğŸ‡ºğŸ‡³:ğŸˆšï¸ï¼‰\n    â”” Apple: ï£¿Appleï¼ˆğŸ‡¨ğŸ‡³:ğŸˆšï¸ | ğŸ‡ºğŸ‡³:ğŸˆ¶ï¸ï¼‰\nè¯„åˆ†å’Œç…§ç‰‡æœåŠ¡æ¥å£ï¼Œæ­¤é€‰é¡¹å½±å“è¯„åˆ†å’Œç…§ç‰‡æœåŠ¡ä»¥åŠç…§ç‰‡ä½¿ç”¨ã€‚\n\nUrlInfoSet.LocationShift: [URLä¿¡æ¯é›†] å®šä½æ¼‚ç§»\n    â”œ AUTO: ğŸ‡ºğŸ‡³è‡ªåŠ¨ï¼ˆéš[åŠ¨æ€é…ç½®]ç‰ˆæœ¬è‡ªåŠ¨é€‰æ‹©ï¼‰\n    â”œ AutoNavi: ğŸ§­é«˜å¾·ï¼ˆğŸˆšï¸åæ ‡ï¼Œä½¿ç”¨ğŸ‡¨ğŸ‡³GCJ-02åæ ‡ï¼‰\n    â”” Apple: ï£¿Appleï¼ˆğŸˆ¶ï¸åæ ‡ï¼Œä½¿ç”¨ğŸ‡ºğŸ‡³WGS-84åæ ‡ï¼‰\nå®šä½æ¼‚ç§»ä¿®æ­£æœåŠ¡æ¥å£ï¼Œæ§åˆ¶å®šä½æ¼‚ç§»å’ŒğŸ§­æŒ‡å—é’ˆä¸ğŸ“åæ ‡çš„ç»çº¬åº¦ã€‚\n\nTileSet.Satellite: [ç“¦ç‰‡æ•°æ®é›†] å«æ˜Ÿå›¾åƒ\n    â”œ AUTO: ğŸ‡ºğŸ‡³è‡ªåŠ¨ï¼ˆéš[åŠ¨æ€é…ç½®]ç‰ˆæœ¬è‡ªåŠ¨é€‰æ‹©ï¼‰\n    â”œ HYBRID: æ··åˆï¼ˆğŸ‡¨ğŸ‡³:2Dè¾ƒæ–° | ğŸ‡ºğŸ‡³:ä¸»è¦åŸå¸‚3Dï¼‰\n    â”œ CN: ğŸ‡¨ğŸ‡³ä¸­å›½å››ç»´ï¼ˆğŸ‡¨ğŸ‡³:2Dè¾ƒæ–° | ğŸ‡ºğŸ‡³:ğŸˆšï¸ï¼‰\n    â”” XX: ğŸ‡ºğŸ‡³DigitalGlobeï¼ˆğŸ‡¨ğŸ‡³:2Dè¾ƒæ—§ | ğŸ‡ºğŸ‡³:2D+ä¸»è¦åŸå¸‚3Dï¼‰\næ­¤é€‰é¡¹å½±å“æ‰€åˆ—ä½å›¾ã€å½±åƒä¸æ¨¡å‹æ•°æ®ã€‚\n\nTileSet.Flyover: [ç“¦ç‰‡æ•°æ®é›†] é£è¡Œä¿¯ç°\n    â”œ AUTO: ğŸ‡ºğŸ‡³è‡ªåŠ¨ï¼ˆéš[åŠ¨æ€é…ç½®]ç‰ˆæœ¬è‡ªåŠ¨é€‰æ‹©ï¼‰\n    â”œ CN: ğŸ‡¨ğŸ‡³Appleï¼ˆğŸ‡¨ğŸ‡³:ğŸˆšï¸ | ğŸ‡ºğŸ‡³:ğŸˆšï¸ï¼‰\n    â”” XX: ğŸ‡ºğŸ‡³Appleï¼ˆğŸ‡¨ğŸ‡³:ğŸˆšï¸ | ğŸ‡ºğŸ‡³:ğŸˆ¶ï¸ï¼‰\næ­¤é€‰é¡¹å½±å“é£è¡Œä¿¯ç°å…¨çƒå„åœ°çš„ä¸»è¦åœ°æ ‡å’ŒåŸå¸‚åŠŸèƒ½ã€‚\n\nTileSet.Munin: [ç“¦ç‰‡æ•°æ®é›†] å››å¤„çœ‹çœ‹\n    â”œ AUTO: ğŸ‡ºğŸ‡³è‡ªåŠ¨ï¼ˆéš[åŠ¨æ€é…ç½®]ç‰ˆæœ¬è‡ªåŠ¨é€‰æ‹©ï¼‰\n    â”œ CN: ğŸ‡¨ğŸ‡³Appleï¼ˆğŸ‡¨ğŸ‡³:ğŸˆšï¸ | ğŸ‡ºğŸ‡³:ğŸˆšï¸ï¼‰\n    â”” XX: ğŸ‡ºğŸ‡³Appleï¼ˆğŸ‡¨ğŸ‡³:ğŸˆšï¸ | ğŸ‡ºğŸ‡³:ğŸˆ¶ï¸ï¼‰\næ­¤é€‰é¡¹å½±å“ 360 åº¦å…¨æ™¯è§†è§’åœ¨æŸäº›åœ°ç‚¹å››å¤„çœ‹çœ‹åŠŸèƒ½ã€‚\n

[Rule]
# ğŸ—ºï¸ Amap
DOMAIN-SUFFIX,is.autonavi.com,DIRECT
# ğŸ—ºï¸ Traffic
DOMAIN,gspe12-cn-ssl.ls.apple.com,DIRECT
# ğŸ—ºï¸ Tiles
DOMAIN,gspe19-cn-ssl.ls.apple.com,DIRECT

[Script]
# ğŸ—ºï¸ Network Defaults
ğŸ—ºï¸ ï£¿Maps.config.defaults.request = type=http-request, pattern=^https?:\/\/configuration\.ls\.apple\.com\/config\/defaults, script-path=https://github.com/NSRingo/GeoServices/releases/download/v4.1.2/request.bundle.js, argument=GeoManifest.Dynamic.Config.CountryCode="{{{GeoManifest.Dynamic.Config.CountryCode}}}"&UrlInfoSet.Dispatcher="{{{UrlInfoSet.Dispatcher}}}"&UrlInfoSet.Directions="{{{UrlInfoSet.Directions}}}"&UrlInfoSet.RAP="{{{UrlInfoSet.RAP}}}"&UrlInfoSet.LocationShift="{{{UrlInfoSet.LocationShift}}}"&TileSet.Satellite="{{{TileSet.Satellite}}}"&TileSet.Flyover="{{{TileSet.Flyover}}}"&TileSet.Munin="{{{TileSet.Munin}}}"
ğŸ—ºï¸ ï£¿Maps.config.defaults.response = type=http-response, pattern=^https?:\/\/configuration\.ls\.apple\.com\/config\/defaults, requires-body=1, engine=webview, script-path=https://github.com/NSRingo/GeoServices/releases/download/v4.1.2/response.bundle.js, argument=GeoManifest.Dynamic.Config.CountryCode="{{{GeoManifest.Dynamic.Config.CountryCode}}}"&UrlInfoSet.Dispatcher="{{{UrlInfoSet.Dispatcher}}}"&UrlInfoSet.Directions="{{{UrlInfoSet.Directions}}}"&UrlInfoSet.RAP="{{{UrlInfoSet.RAP}}}"&UrlInfoSet.LocationShift="{{{UrlInfoSet.LocationShift}}}"&TileSet.Satellite="{{{TileSet.Satellite}}}"&TileSet.Flyover="{{{TileSet.Flyover}}}"&TileSet.Munin="{{{TileSet.Munin}}}"
# ğŸ—ºï¸ Announcements
ğŸ—ºï¸ ï£¿Maps.config.announcements.request = type=http-request, pattern=^https?:\/\/gspe35-ssl\.ls\.apple\.(com|cn)\/config\/announcements, script-path=https://github.com/NSRingo/GeoServices/releases/download/v4.1.2/request.bundle.js, argument=GeoManifest.Dynamic.Config.CountryCode="{{{GeoManifest.Dynamic.Config.CountryCode}}}"&UrlInfoSet.Dispatcher="{{{UrlInfoSet.Dispatcher}}}"&UrlInfoSet.Directions="{{{UrlInfoSet.Directions}}}"&UrlInfoSet.RAP="{{{UrlInfoSet.RAP}}}"&UrlInfoSet.LocationShift="{{{UrlInfoSet.LocationShift}}}"&TileSet.Satellite="{{{TileSet.Satellite}}}"&TileSet.Flyover="{{{TileSet.Flyover}}}"&TileSet.Munin="{{{TileSet.Munin}}}"
ğŸ—ºï¸ ï£¿Maps.config.announcements.response = type=http-response, pattern=^https?:\/\/gspe35-ssl\.ls\.apple\.(com|cn)\/config\/announcements, requires-body=1, binary-body-mode=1, engine=webview, script-path=https://github.com/NSRingo/GeoServices/releases/download/v4.1.2/response.bundle.js, argument=GeoManifest.Dynamic.Config.CountryCode="{{{GeoManifest.Dynamic.Config.CountryCode}}}"&UrlInfoSet.Dispatcher="{{{UrlInfoSet.Dispatcher}}}"&UrlInfoSet.Directions="{{{UrlInfoSet.Directions}}}"&UrlInfoSet.RAP="{{{UrlInfoSet.RAP}}}"&UrlInfoSet.LocationShift="{{{UrlInfoSet.LocationShift}}}"&TileSet.Satellite="{{{TileSet.Satellite}}}"&TileSet.Flyover="{{{TileSet.Flyover}}}"&TileSet.Munin="{{{TileSet.Munin}}}"
# ğŸ—ºï¸ Resource Manifest
ğŸ—ºï¸ ï£¿Maps.geo_manifest.dynamic.config.request = type=http-request, pattern=^https?:\/\/gspe35-ssl\.ls\.apple\.(com|cn)\/geo_manifest\/dynamic\/config, script-path=https://github.com/NSRingo/GeoServices/releases/download/v4.1.2/request.bundle.js, argument=GeoManifest.Dynamic.Config.CountryCode="{{{GeoManifest.Dynamic.Config.CountryCode}}}"&UrlInfoSet.Dispatcher="{{{UrlInfoSet.Dispatcher}}}"&UrlInfoSet.Directions="{{{UrlInfoSet.Directions}}}"&UrlInfoSet.RAP="{{{UrlInfoSet.RAP}}}"&UrlInfoSet.LocationShift="{{{UrlInfoSet.LocationShift}}}"&TileSet.Satellite="{{{TileSet.Satellite}}}"&TileSet.Flyover="{{{TileSet.Flyover}}}"&TileSet.Munin="{{{TileSet.Munin}}}"
ğŸ—ºï¸ ï£¿Maps.geo_manifest.dynamic.config.response = type=http-response, pattern=^https?:\/\/gspe35-ssl\.ls\.apple\.(com|cn)\/geo_manifest\/dynamic\/config, requires-body=1, binary-body-mode=1, engine=webview, script-path=https://github.com/NSRingo/GeoServices/releases/download/v4.1.2/response.bundle.js, argument=GeoManifest.Dynamic.Config.CountryCode="{{{GeoManifest.Dynamic.Config.CountryCode}}}"&UrlInfoSet.Dispatcher="{{{UrlInfoSet.Dispatcher}}}"&UrlInfoSet.Directions="{{{UrlInfoSet.Directions}}}"&UrlInfoSet.RAP="{{{UrlInfoSet.RAP}}}"&UrlInfoSet.LocationShift="{{{UrlInfoSet.LocationShift}}}"&TileSet.Satellite="{{{TileSet.Satellite}}}"&TileSet.Flyover="{{{TileSet.Flyover}}}"&TileSet.Munin="{{{TileSet.Munin}}}"

[MITM]
hostname = %APPEND% configuration.ls.apple.com, gspe35-ssl.ls.apple.com
